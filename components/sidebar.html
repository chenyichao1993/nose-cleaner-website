<!-- Sidebar -->
<aside class="blog-sidebar">
    <!-- Categories Widget -->
    <div class="sidebar-widget">
        <h3>Categories</h3>
        <ul class="category-list" id="categories-list">
            <!-- 分类数据将通过JavaScript动态加载 -->
        </ul>
    </div>
    
    <!-- Newsletter Widget -->
    <div class="sidebar-widget newsletter-widget">
        <h3>Stay Updated</h3>
        <p>Get the latest nasal health tips and product reviews delivered to your inbox.</p>
        <form class="newsletter-form">
            <input type="email" placeholder="Enter your email address" required 
                   title="Please enter a valid email address"
                   oninvalid="this.setCustomValidity('Please enter a valid email address')"
                   oninput="this.setCustomValidity('')">
            <button type="submit" class="btn btn-primary">Subscribe</button>
        </form>
    </div>
</aside>

<script>
// 动态加载分类数据
function loadCategories() {
    fetch('/data/articles.json')
        .then(response => response.json())
        .then(data => {
            const categoriesList = document.getElementById('categories-list');
            if (categoriesList) {
                categoriesList.innerHTML = '';
                
                // 按分类名称排序
                const sortedCategories = Object.entries(data.categories)
                    .sort(([a], [b]) => a.localeCompare(b));
                
                sortedCategories.forEach(([categoryName, categoryData]) => {
                    const li = document.createElement('li');
                    li.innerHTML = `<a href="${categoryData.url}">${categoryName} <span>(${categoryData.count})</span></a>`;
                    categoriesList.appendChild(li);
                });
            }
        })
        .catch(error => {
            console.error('加载分类数据失败:', error);
        });
}

// 立即执行加载分类数据
loadCategories();
</script>